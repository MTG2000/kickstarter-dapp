(this["webpackJsonpmy-second-react-app"]=this["webpackJsonpmy-second-react-app"]||[]).push([[8],{445:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(508),i=t(503);function u(e){return r.a.createElement(i.a,Object.assign({elevation:6,variant:"filled"},e))}a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.msg,t=void 0===a?"Hello World":a,n=e.open,i=void 0!==n&&n,c=e.handleClose,o=void 0===c?function(){}:c,s=e.type,m=void 0===s?"info":s;return r.a.createElement(l.a,{open:i,autoHideDuration:6e3,onClose:o},r.a.createElement(u,{onClose:o,severity:m},t))}},510:function(e,a,t){"use strict";t.r(a);var n=t(54),r=t(20),l=t.n(r),i=t(105),u=t(0),c=t.n(u),o=t(420),s=t(432),m=t(418),v=t(31),p=t(495),g=t(502),d=t(511),b=t(433),h=t(496),f=t(500),j=Object(p.a)({input:{marginBottom:28}}),E=function(e){var a=e.onSubmit,t=e.pending,r=Object(u.useState)({value:""}),l=Object(i.a)(r,2),s=l[0],v=l[1],p=Object(u.useState)({value:2}),E=Object(i.a)(p,2),O=E[0],y=E[1],C=Object(u.useState)({value:10}),S=Object(i.a)(C,2),x=S[0],w=S[1],W=Object(u.useState)({value:""}),D=Object(i.a)(W,2),N=D[0],P=D[1],k=Object(u.useState)({value:""}),M=Object(i.a)(k,2),T=M[0],F=M[1],H=function(e,a,t){t(Object(n.a)({},e,{value:a}))},B=j();return c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),s.value.length<3)v(Object(n.a)({},s,{err:!0,errMsg:"Title Must be at least 3 characters"}));else{v({value:s.value});var t=+O.value;!t||t<=0||t>1e7?y(Object(n.a)({},O,{err:!0,errMsg:"Goal must range between 0 & 10000000"})):(y({value:O.value}),a({title:s.value,goal:O.value,duration:x.value,image:N.value,description:T.value}))}}},c.a.createElement(g.a,{label:"Project Title",fullWidth:!0,error:s.err,helperText:s.errMsg,className:B.input,autoFocus:!0,variant:"outlined",value:s.value,onChange:function(e){return H(s,e.target.value,v)}}),c.a.createElement(g.a,{label:"Campaign Goal (Ether)",fullWidth:!0,error:O.err,helperText:O.errMsg,className:B.input,variant:"outlined",value:O.value,onChange:function(e){return H(O,e.target.value,y)}}),c.a.createElement("div",{className:B.input},c.a.createElement(m.a,{id:"duration-slider",gutterBottom:!0},"Campaign Duration (Days)"),c.a.createElement(d.a,{value:x.value,onChange:function(e,a){return H(x,a,w)},"aria-labelledby":"duration-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:20})),c.a.createElement(g.a,{label:"Project Image Url",fullWidth:!0,className:B.input,variant:"outlined",value:N.value,onChange:function(e){return H(N,e.target.value,P)}}),c.a.createElement(g.a,{label:"Project Description",fullWidth:!0,className:B.input,variant:"outlined",multiline:!0,rows:12,value:T.value,onChange:function(e){return H(T,e.target.value,F)}}),c.a.createElement(b.a,{container:!0,justify:"center"},c.a.createElement(h.a,{type:"submit",variant:"contained",color:"primary",size:"large"},"Publish Campaign")),t&&c.a.createElement(o.a,{px:3,py:4},c.a.createElement(b.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(m.a,{variant:"h6",color:"textSecondary",style:{marginRight:20}},"Pending"),c.a.createElement(f.a,{color:"primary"}))))},O=t(445);a.default=function(e){var a=e.web3,t=e.account,r=e.campaignFactory,p=Object(u.useState)({open:!1,msg:"Hello World"}),g=Object(i.a)(p,2),d=g[0],b=g[1],h=Object(u.useState)(!1),f=Object(i.a)(h,2),j=f[0],y=f[1],C=Object(u.useState)(!1),S=Object(i.a)(C,2),x=S[0],w=S[1];return document.title="Kickstarter New Campaign",x?c.a.createElement(v.a,{to:"/"}):c.a.createElement(o.a,{py:10},c.a.createElement(s.a,null,c.a.createElement(m.a,{variant:"h2",component:"h1",color:"primary",align:"center"},"Start A Campaign"),c.a.createElement(o.a,{maxWidth:400,mx:"auto",mt:10},c.a.createElement(E,{onSubmit:function(e){var n,i,u,c,o,s;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=e.title,i=e.image,u=e.description,c=e.goal,o=e.duration,m.prev=1,m.next=4,l.a.awrap(r.methods.campaignPrice().call({}));case 4:return s=m.sent,y(!0),m.next=8,l.a.awrap(r.methods.newCampaign(n,u,i,a.utils.toWei(c.toString(),"Ether"),24*+o*3600).send({from:t,value:s}));case 8:w(!0),m.next=14;break;case 11:m.prev=11,m.t0=m.catch(1),b({open:!0,msg:"Failed To Launch Campaign",type:"error"});case 14:case"end":return m.stop()}}),null,null,[[1,11]])},pending:j})),c.a.createElement(O.a,Object.assign({},d,{handleClose:function(){return b(Object(n.a)({},d,{open:!1}))}}))))}}}]);
//# sourceMappingURL=8.290e056d.chunk.js.map