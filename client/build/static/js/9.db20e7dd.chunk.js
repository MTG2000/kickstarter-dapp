(this["webpackJsonpmy-second-react-app"]=this["webpackJsonpmy-second-react-app"]||[]).push([[9],{445:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(508),c=a(503);function i(e){return r.a.createElement(c.a,Object.assign({elevation:6,variant:"filled"},e))}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.msg,a=void 0===t?"Hello World":t,n=e.open,c=void 0!==n&&n,l=e.handleClose,s=void 0===l?function(){}:l,u=e.type,m=void 0===u?"info":u;return r.a.createElement(o.a,{open:c,autoHideDuration:6e3,onClose:s},r.a.createElement(i,{onClose:s,severity:m},a))}},507:function(e,t,a){"use strict";a.r(t);var n=a(54),r=a(20),o=a.n(r),c=a(105),i=a(0),l=a.n(i),s=a(78),u=(a(472),a(473)),m=a.n(u),p=a(474),d=a.n(p),g=a(79),h=a(418),f=a(433),v=a(420),y=a(496),E=a(500),b=a(495),w=Object(b.a)({imgWrapper:function(e){var t=e.StyleImgWrapper,a=e.hoverColor,r=e.pointerOnHover;return Object(n.a)({padding:2,background:"#f1f1f1",margin:"0",position:"relative",cursor:r?"pointer":"default","&::after":{content:'""',display:"block",position:"absolute",width:"100%",height:"100%",top:0,left:0,background:a,opacity:0,transition:"opacity .4s ease-in-out"},"&:hover":{"&::after":{opacity:.4}}},t)},img:function(e){var t=e.StyleImg;return Object(n.a)({width:"100%",height:"100%",objectFit:"cover",objectPosition:"center top"},t)}}),x=function(e){var t=e.src,a=e.alt,n=void 0===a?"":a,r=e.StyleImgWrapper,o=void 0===r?{width:"100%",height:"auto",maxWidth:"none",maxHeight:"none"}:r,c=e.StyleImg,i=void 0===c?{}:c,s=e.hoverColor,u=void 0===s?"transparent":s,m=e.pointerOnHover,p=w({StyleImgWrapper:o,StyleImg:i,hoverColor:u,pointerOnHover:void 0!==m&&m});return l.a.createElement("div",{className:p.imgWrapper},l.a.createElement("img",{src:t,alt:n,className:p.img}))},j=a(509),O=a(501),S=a(511),C=function(e){var t=e.open,a=e.handleClose,n=Object(i.useState)(.1),r=Object(c.a)(n,2),o=r[0],s=r[1];return l.a.createElement(j.a,{onClose:function(){return a()},open:t},l.a.createElement(O.a,{id:"simple-dialog-title"},"Set the amount that you want to help us with"," "),l.a.createElement(v.a,{px:3,py:5},l.a.createElement(h.a,{variant:"h5",color:"primary",align:"center",gutterBottom:!0},o," Ether"),l.a.createElement(S.a,{value:o,margin:"dense",onChange:function(e,t){return s(t)},step:.01,min:.05,max:2}),l.a.createElement(f.a,{container:!0,justify:"center"},l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){return a(o)}},"Submit"))))},k=a(475),W=a(476),D=a.n(W);function F(e){return l.a.createElement("div",{style:{position:"absolute",height:"100%",transform:"rotate(".concat(e.turns,"turn)")}},l.a.createElement("div",{style:e.style}))}var B=function(e){var t=1/e.count;return D.a.range(e.count).map((function(a){return l.a.createElement(F,{key:a,turns:a*t,style:e.style})}))},I=function(e){var t=e.value;e.text;return l.a.createElement(k.a,{value:t,text:"".concat(t,"%"),strokeWidth:10,styles:Object(k.b)({strokeLinecap:"butt",textSize:"16px",pathTransitionDuration:.5,pathColor:"rgba(76, 223, 76,1)",textColor:"rgba(76, 223, 76,1",trailColor:"rgba(76, 223, 76,.33)"})},l.a.createElement(B,{count:12,style:{background:"#fff",width:"2px",height:"".concat(10,"%")}}))},H=function(e){var t=e.dialogOpen,a=e.setDialogOpen,n=e.fund,r=e.handleRefund,o=e.handleWithdraw,c=e.title,i=e.imgUrl,s=e.description,u=e.fundsPercent,m=e.goal,p=e.totalFunds,d=e.endDate,g=e.isOwner,b=e.amountDonated,w=e.campaignFailed,j=e.pending;return l.a.createElement("div",null,l.a.createElement(C,{open:t,handleClose:n}),l.a.createElement(h.a,{variant:"h2",component:"h1",gutterBottom:!0,color:"primary"},c),l.a.createElement(f.a,{container:!0,justify:"space-between"},l.a.createElement(f.a,{item:!0,xs:12,md:7},l.a.createElement(x,{src:i,StyleImgWrapper:{width:"100%",height:"auto",padding:0},hoverColor:"rgba(0, 0, 0, 0.177)"}),l.a.createElement(h.a,{variant:"h4",gutterBottom:!0,color:"primary",style:{marginTop:45}},"Details about the project"),l.a.createElement(h.a,{variant:"h6",gutterBottom:!0},s)),l.a.createElement(f.a,{item:!0,container:!0,xs:12,md:4,justify:"center"},l.a.createElement(v.a,{justifySelf:"center",maxWidth:440,minHeight:400,pt:4,pb:4},l.a.createElement(I,{value:u}),l.a.createElement(v.a,{py:5}),l.a.createElement(f.a,{item:!0,xs:12,color:"primary"},l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0,color:"primary"},"Goal:"),l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0},m," Wei"),l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0,color:"primary"},"Current Funds:"),l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0},p," Wei"),l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0,color:"primary"},"Campaign End:"),l.a.createElement(h.a,{variant:"h6",align:"center",gutterBottom:!0},d),w&&l.a.createElement(h.a,{variant:"h5",align:"center",gutterBottom:!0,color:"error"},"Campaign Failed!!"),l.a.createElement(f.a,{container:!0,justify:"center",alignItems:"center",direction:"column",style:{marginTop:22}},!g&&0===+b&&!w&&l.a.createElement(y.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return a(!0)}},"Become a Kickstarter !!!"),!g&&0!==+b&&l.a.createElement(l.a.Fragment,null,!w&&l.a.createElement(y.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return a(!0)}},"Support Us More!!!"),l.a.createElement("br",null),w&&l.a.createElement(y.a,{variant:"contained",color:"default",size:"large",onClick:r},"Refund")),g&&l.a.createElement(y.a,{variant:"contained",color:"primary",size:"large",onClick:o},"Withdraw"))),j&&l.a.createElement(v.a,{px:3,py:4},l.a.createElement(f.a,{container:!0,justify:"center",alignItems:"center"},l.a.createElement(h.a,{variant:"h6",color:"textSecondary",style:{marginRight:20}},"Pending"),l.a.createElement(E.a,{color:"primary"})))))))},T=a(432),M=a(445);t.default=function(e){var t=e.match,a=e.web3,r=e.account,u=e.campaignFactory,p=t.params.index,f=Object(i.useState)(!1),y=Object(c.a)(f,2),E=y[0],b=y[1],w=Object(i.useState)(null),x=Object(c.a)(w,2),j=x[0],O=x[1],S=Object(i.useState)(null),C=Object(c.a)(S,2),k=C[0],W=C[1],D=Object(i.useState)(null),F=Object(c.a)(D,2),B=F[0],I=F[1],P=Object(i.useState)(!1),R=Object(c.a)(P,2),Y=R[0],z=R[1],U=Object(i.useState)(!1),N=Object(c.a)(U,2),J=N[0],K=N[1],A=Object(i.useState)({open:!1,msg:"Hello World"}),G=Object(c.a)(A,2),L=G[0],V=G[1],_=function(){var e,t,n,c,i,l,m,d,g,h;return o.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,o.a.awrap(u.methods.campaignAddresses(p).call());case 3:return e=f.sent,t=new a.eth.Contract(s.a,e),O(t),f.next=8,o.a.awrap(t.methods.gameTitle().call());case 8:return n=f.sent,f.next=11,o.a.awrap(t.methods.description().call());case 11:return c=f.sent,f.next=14,o.a.awrap(t.methods.imgUrl().call());case 14:return i=f.sent,f.next=17,o.a.awrap(t.methods.totalFunds().call());case 17:return l=f.sent,f.next=20,o.a.awrap(t.methods.goal().call());case 20:return m=f.sent,f.next=23,o.a.awrap(t.methods.endTime().call());case 23:return d=f.sent,f.next=26,o.a.awrap(t.methods.owner().call());case 26:return g=f.sent,f.next=29,o.a.awrap(t.methods.funds(r).call());case 29:h=f.sent,I(l),W({title:n,description:c,imgUrl:i,goal:m,endTime:d,amountDonated:h,isOwner:g===r}),t.events.Funded({},(function(e,t){if(e)console.log(e);else{var a=t.returnValues._totalFunds;I(a)}})),f.next=38;break;case 35:f.prev=35,f.t0=f.catch(0),K(!0);case 38:case"end":return f.stop()}}),null,null,[[0,35]])};if(Object(i.useEffect)((function(){o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:_();case 1:case"end":return e.stop()}}))}),[]),J)return l.a.createElement(v.a,{py:"3"},l.a.createElement(h.a,{variant:"h2",align:"center"},"No Project Found...."));if(!k||!k.title)return l.a.createElement(g.a,{height:"70vh",msg:"loading Project Data"});document.title=k.title+" Kickstarter Campaign";var q=k.goal,Q=k.endTime,X=B/q;X=(X*=100).toFixed(1);var Z=Date.now()>new Date(1e3*+Q)&&1===new d.a(q).cmp(new d.a(B)),$=m.a.format(new Date(1e3*+Q),"YYYY/MM/DD");return l.a.createElement(T.a,null,l.a.createElement(v.a,{py:10},l.a.createElement(H,Object.assign({dialogOpen:Y,fund:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(z(!1),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,b(!0),t.next=7,o.a.awrap(j.methods.fund().send({from:r,value:a.utils.toWei(e.toString(),"Ether")}));case 7:b(!1),V({open:!0,msg:"Successfully Sent Money",type:"success"}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),V({open:!0,msg:"Couldn't Send Money, Make Sure The Campaign hasn't Failed",type:"error"});case 14:case"end":return t.stop()}}),null,null,[[3,11]])},setDialogOpen:z,handleWithdraw:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(j.methods.withdraw().send({from:r}));case 3:V({open:!0,msg:"Successfully Withdrawn",type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),V({open:!0,msg:"You cant Withdraw until the campaign Successed",type:"error"});case 9:case"end":return e.stop()}}),null,null,[[0,6]])},handleRefund:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(j.methods.refund().send({from:r}));case 3:V({open:!0,msg:"Successfully Refunded",type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),V({open:!0,msg:"You can only Refund if the campaign fail",type:"error"});case 9:case"end":return e.stop()}}),null,null,[[0,6]])},fundsPercent:X,endDate:$,campaignFailed:Z,pending:E},k,{totalFunds:B})),l.a.createElement(M.a,Object.assign({},L,{handleClose:function(){return V(Object(n.a)({},L,{open:!1}))}}))))}}}]);
//# sourceMappingURL=9.db20e7dd.chunk.js.map